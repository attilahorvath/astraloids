!function t(a,r,n){function e(l,i){if(!r[l]){if(!a[l]){var u="function"==typeof require&&require;if(!i&&u)return u(l,!0);if(o)return o(l,!0);var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}var M=r[l]={exports:{}};a[l][0].call(M.exports,function(t){var r=a[l][1][t];return e(r?r:t)},M,M.exports,t,a,r,n)}return r[l].exports}for(var o="function"==typeof require&&require,l=0;l<n.length;l++)e(n[l]);return e}({1:[function(t,a,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var e=t("./astraloids/game"),o=n(e),l=new o["default"];l.run()},{"./astraloids/game":2}],2:[function(t,a,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function t(t,a){for(var r=0;r<a.length;r++){var n=a[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,r,n){return r&&t(a.prototype,r),n&&t(a,n),a}}(),l=t("./renderer"),i=n(l),u=function(){function t(){e(this,t),this.renderer=new i["default"]}return o(t,[{key:"run",value:function(){var t=this;this.renderer.initialize(),this.lastTime=Date.now(),requestAnimationFrame(function(){return t.loop()})}},{key:"loop",value:function(){var t=this,a=arguments.length<=0||void 0===arguments[0]?Date.now():arguments[0];requestAnimationFrame(function(){return t.loop()});var r=a-this.lastTime;this.renderer.clear(),this.renderer.draw(r),this.lastTime=a}}]),t}();r["default"]=u},{"./renderer":4}],3:[function(t,a,r){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var e=t("../../shaders/particle.vert"),o=t("../../shaders/particle.frag"),l=function i(t){n(this,i),this.vertexShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this.vertexShader,e()),t.compileShader(this.vertexShader),t.getShaderParameter(this.vertexShader,t.COMPILE_STATUS)||alert(t.getShaderInfoLog(this.vertexShader)),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this.fragmentShader,o()),t.compileShader(this.fragmentShader),t.getShaderParameter(this.vertexShader,t.COMPILE_STATUS)||alert(t.getShaderInfoLog(this.vertexShader)),this.shaderProgram=t.createProgram(),t.attachShader(this.shaderProgram,this.vertexShader),t.attachShader(this.shaderProgram,this.fragmentShader),t.linkProgram(this.shaderProgram),t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)||alert(t.getProgramInfoLog(this.shaderProgram)),this.modelViewMatrix=t.getUniformLocation(this.shaderProgram,"modelViewMatrix"),this.projectionMatrix=t.getUniformLocation(this.shaderProgram,"projectionMatrix"),this.currentTime=t.getUniformLocation(this.shaderProgram,"currentTime"),this.vertexPosition=t.getAttribLocation(this.shaderProgram,"vertexPosition"),t.enableVertexAttribArray(this.vertexPosition),this.vertexVelocity=t.getAttribLocation(this.shaderProgram,"vertexVelocity"),t.enableVertexAttribArray(this.vertexVelocity),this.vertexColor=t.getAttribLocation(this.shaderProgram,"vertexColor"),t.enableVertexAttribArray(this.vertexColor),t.useProgram(this.shaderProgram)};r["default"]=l},{"../../shaders/particle.frag":16,"../../shaders/particle.vert":17}],4:[function(t,a,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function t(t,a){for(var r=0;r<a.length;r++){var n=a[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,r,n){return r&&t(a.prototype,r),n&&t(a,n),a}}(),l=t("./simple_shader"),i=(n(l),t("./particle_shader")),u=n(i),s=t("gl-matrix").mat4,M=t("gl-matrix").vec2,h=t("gl-matrix").vec4,c=function(){function t(){e(this,t)}return o(t,[{key:"initialize",value:function(){this.canvas=document.createElement("canvas"),this.canvas.width=320,this.canvas.height=240,document.body.appendChild(this.canvas),this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),this.gl.viewport(0,0,this.canvas.clientWidth,this.canvas.clientHeight),this.gl.clearColor(0,0,0,1),this.gl.enable(this.gl.BLEND),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.particleShader=new u["default"](this.gl),this.translationVector=h.fromValues(160,120,0,1),this.modelViewMatrix=s.create(),s.translate(this.modelViewMatrix,this.modelViewMatrix,this.translationVector),this.gl.uniformMatrix4fv(this.particleShader.modelViewMatrix,!1,this.modelViewMatrix),this.projectionMatrix=s.create(),s.ortho(this.projectionMatrix,0,this.canvas.clientWidth,this.canvas.clientHeight,0,-1,1),this.gl.uniformMatrix4fv(this.particleShader.projectionMatrix,!1,this.projectionMatrix),this.vertexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer);for(var t=[],a=0;1e3>a;a++){var r=M.create();M.random(r),t.push(0,0,0,r[0],r[1],0,Math.random(),Math.random(),Math.random(),1)}this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.angle=0,this.currentTime=0}},{key:"clear",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"draw",value:function(t){this.currentTime+=.01*t,this.modelViewMatrix=s.create(),s.translate(this.modelViewMatrix,this.modelViewMatrix,this.translationVector),s.rotateZ(this.modelViewMatrix,this.modelViewMatrix,this.angle),this.gl.uniformMatrix4fv(this.particleShader.modelViewMatrix,!1,this.modelViewMatrix),this.gl.uniform1f(this.particleShader.currentTime,this.currentTime),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.vertexAttribPointer(this.particleShader.vertexPosition,3,this.gl.FLOAT,!1,10*Float32Array.BYTES_PER_ELEMENT,0),this.gl.vertexAttribPointer(this.particleShader.vertexVelocity,3,this.gl.FLOAT,!1,10*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),this.gl.vertexAttribPointer(this.particleShader.vertexColor,4,this.gl.FLOAT,!1,10*Float32Array.BYTES_PER_ELEMENT,6*Float32Array.BYTES_PER_ELEMENT),this.gl.drawArrays(this.gl.POINTS,0,1e3)}}]),t}();r["default"]=c},{"./particle_shader":3,"./simple_shader":5,"gl-matrix":6}],5:[function(t,a,r){"use strict";function n(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var e=t("../../shaders/simple.vert"),o=t("../../shaders/simple.frag"),l=function i(t){n(this,i),this.vertexShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this.vertexShader,e()),t.compileShader(this.vertexShader),t.getShaderParameter(this.vertexShader,t.COMPILE_STATUS)||alert(t.getShaderInfoLog(this.vertexShader)),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this.fragmentShader,o()),t.compileShader(this.fragmentShader),t.getShaderParameter(this.vertexShader,t.COMPILE_STATUS)||alert(t.getShaderInfoLog(this.vertexShader)),this.shaderProgram=t.createProgram(),t.attachShader(this.shaderProgram,this.vertexShader),t.attachShader(this.shaderProgram,this.fragmentShader),t.linkProgram(this.shaderProgram),t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)||alert(t.getProgramInfoLog(this.shaderProgram)),this.modelViewMatrix=t.getUniformLocation(this.shaderProgram,"modelViewMatrix"),this.projectionMatrix=t.getUniformLocation(this.shaderProgram,"projectionMatrix"),this.vertexPosition=t.getAttribLocation(this.shaderProgram,"vertexPosition"),t.enableVertexAttribArray(this.vertexPosition),this.vertexColor=t.getAttribLocation(this.shaderProgram,"vertexColor"),t.enableVertexAttribArray(this.vertexColor),t.useProgram(this.shaderProgram)};r["default"]=l},{"../../shaders/simple.frag":18,"../../shaders/simple.vert":19}],6:[function(t,a,r){r.glMatrix=t("./gl-matrix/common.js"),r.mat2=t("./gl-matrix/mat2.js"),r.mat2d=t("./gl-matrix/mat2d.js"),r.mat3=t("./gl-matrix/mat3.js"),r.mat4=t("./gl-matrix/mat4.js"),r.quat=t("./gl-matrix/quat.js"),r.vec2=t("./gl-matrix/vec2.js"),r.vec3=t("./gl-matrix/vec3.js"),r.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":7,"./gl-matrix/mat2.js":8,"./gl-matrix/mat2d.js":9,"./gl-matrix/mat3.js":10,"./gl-matrix/mat4.js":11,"./gl-matrix/quat.js":12,"./gl-matrix/vec2.js":13,"./gl-matrix/vec3.js":14,"./gl-matrix/vec4.js":15}],7:[function(t,a,r){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var e=Math.PI/180;n.toRadian=function(t){return t*e},n.equals=function(t,a){return Math.abs(t-a)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},a.exports=n},{}],8:[function(t,a,r){var n=t("./common.js"),e={};e.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){var a=new n.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,a,r,e){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=a,o[2]=r,o[3]=e,o},e.set=function(t,a,r,n,e){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t},e.transpose=function(t,a){if(t===a){var r=a[1];t[1]=a[2],t[2]=r}else t[0]=a[0],t[1]=a[2],t[2]=a[1],t[3]=a[3];return t},e.invert=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=r*o-e*n;return l?(l=1/l,t[0]=o*l,t[1]=-n*l,t[2]=-e*l,t[3]=r*l,t):null},e.adjoint=function(t,a){var r=a[0];return t[0]=a[3],t[1]=-a[1],t[2]=-a[2],t[3]=r,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=r[0],u=r[1],s=r[2],M=r[3];return t[0]=n*i+o*u,t[1]=e*i+l*u,t[2]=n*s+o*M,t[3]=e*s+l*M,t},e.mul=e.multiply,e.rotate=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*i,t[1]=e*u+l*i,t[2]=n*-i+o*u,t[3]=e*-i+l*u,t},e.scale=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=r[0],u=r[1];return t[0]=n*i,t[1]=e*i,t[2]=o*u,t[3]=l*u,t},e.fromRotation=function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},e.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,a,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,a,r]},e.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t},e.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t},e.sub=e.subtract,e.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},e.equals=function(t,a){var r=t[0],e=t[1],o=t[2],l=t[3],i=a[0],u=a[1],s=a[2],M=a[3];return Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(e-u)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(l-M)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(M))},e.multiplyScalar=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t},e.multiplyScalarAndAdd=function(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t},a.exports=e},{"./common.js":7}],9:[function(t,a,r){var n=t("./common.js"),e={};e.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){var a=new n.ARRAY_TYPE(6);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,a,r,e,o,l){var i=new n.ARRAY_TYPE(6);return i[0]=t,i[1]=a,i[2]=r,i[3]=e,i[4]=o,i[5]=l,i},e.set=function(t,a,r,n,e,o,l){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=l,t},e.invert=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=a[4],i=a[5],u=r*o-n*e;return u?(u=1/u,t[0]=o*u,t[1]=-n*u,t[2]=-e*u,t[3]=r*u,t[4]=(e*i-o*l)*u,t[5]=(n*l-r*i)*u,t):null},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=r[0],M=r[1],h=r[2],c=r[3],f=r[4],x=r[5];return t[0]=n*s+o*M,t[1]=e*s+l*M,t[2]=n*h+o*c,t[3]=e*h+l*c,t[4]=n*f+o*x+i,t[5]=e*f+l*x+u,t},e.mul=e.multiply,e.rotate=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=Math.sin(r),M=Math.cos(r);return t[0]=n*M+o*s,t[1]=e*M+l*s,t[2]=n*-s+o*M,t[3]=e*-s+l*M,t[4]=i,t[5]=u,t},e.scale=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=r[0],M=r[1];return t[0]=n*s,t[1]=e*s,t[2]=o*M,t[3]=l*M,t[4]=i,t[5]=u,t},e.translate=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=r[0],M=r[1];return t[0]=n,t[1]=e,t[2]=o,t[3]=l,t[4]=n*s+o*M+i,t[5]=e*s+l*M+u,t},e.fromRotation=function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},e.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t},e.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t},e.sub=e.subtract,e.multiplyScalar=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t},e.multiplyScalarAndAdd=function(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t},e.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]},e.equals=function(t,a){var r=t[0],e=t[1],o=t[2],l=t[3],i=t[4],u=t[5],s=a[0],M=a[1],h=a[2],c=a[3],f=a[4],x=a[5];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(e-M)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(o-h)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(l-c)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(c))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(u-x)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))},a.exports=e},{"./common.js":7}],10:[function(t,a,r){var n=t("./common.js"),e={};e.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t},e.clone=function(t){var a=new n.ARRAY_TYPE(9);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},e.fromValues=function(t,a,r,e,o,l,i,u,s){var M=new n.ARRAY_TYPE(9);return M[0]=t,M[1]=a,M[2]=r,M[3]=e,M[4]=o,M[5]=l,M[6]=i,M[7]=u,M[8]=s,M},e.set=function(t,a,r,n,e,o,l,i,u,s){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=l,t[6]=i,t[7]=u,t[8]=s,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,a){if(t===a){var r=a[1],n=a[2],e=a[5];t[1]=a[3],t[2]=a[6],t[3]=r,t[5]=a[7],t[6]=n,t[7]=e}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t},e.invert=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=a[4],i=a[5],u=a[6],s=a[7],M=a[8],h=M*l-i*s,c=-M*o+i*u,f=s*o-l*u,x=r*h+n*c+e*f;return x?(x=1/x,t[0]=h*x,t[1]=(-M*n+e*s)*x,t[2]=(i*n-e*l)*x,t[3]=c*x,t[4]=(M*r-e*u)*x,t[5]=(-i*r+e*o)*x,t[6]=f*x,t[7]=(-s*r+n*u)*x,t[8]=(l*r-n*o)*x,t):null},e.adjoint=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=a[4],i=a[5],u=a[6],s=a[7],M=a[8];return t[0]=l*M-i*s,t[1]=e*s-n*M,t[2]=n*i-e*l,t[3]=i*u-o*M,t[4]=r*M-e*u,t[5]=e*o-r*i,t[6]=o*s-l*u,t[7]=n*u-r*s,t[8]=r*l-n*o,t},e.determinant=function(t){var a=t[0],r=t[1],n=t[2],e=t[3],o=t[4],l=t[5],i=t[6],u=t[7],s=t[8];return a*(s*o-l*u)+r*(-s*e+l*i)+n*(u*e-o*i)},e.multiply=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=a[6],M=a[7],h=a[8],c=r[0],f=r[1],x=r[2],S=r[3],m=r[4],I=r[5],d=r[6],D=r[7],F=r[8];return t[0]=c*n+f*l+x*s,t[1]=c*e+f*i+x*M,t[2]=c*o+f*u+x*h,t[3]=S*n+m*l+I*s,t[4]=S*e+m*i+I*M,t[5]=S*o+m*u+I*h,t[6]=d*n+D*l+F*s,t[7]=d*e+D*i+F*M,t[8]=d*o+D*u+F*h,t},e.mul=e.multiply,e.translate=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=a[6],M=a[7],h=a[8],c=r[0],f=r[1];return t[0]=n,t[1]=e,t[2]=o,t[3]=l,t[4]=i,t[5]=u,t[6]=c*n+f*l+s,t[7]=c*e+f*i+M,t[8]=c*o+f*u+h,t},e.rotate=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=a[6],M=a[7],h=a[8],c=Math.sin(r),f=Math.cos(r);return t[0]=f*n+c*l,t[1]=f*e+c*i,t[2]=f*o+c*u,t[3]=f*l-c*n,t[4]=f*i-c*e,t[5]=f*u-c*o,t[6]=s,t[7]=M,t[8]=h,t},e.scale=function(t,a,r){var n=r[0],e=r[1];return t[0]=n*a[0],t[1]=n*a[1],t[2]=n*a[2],t[3]=e*a[3],t[4]=e*a[4],t[5]=e*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},e.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t},e.fromRotation=function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t},e.fromQuat=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=r+r,i=n+n,u=e+e,s=r*l,M=n*l,h=n*i,c=e*l,f=e*i,x=e*u,S=o*l,m=o*i,I=o*u;return t[0]=1-h-x,t[3]=M-I,t[6]=c+m,t[1]=M+I,t[4]=1-s-x,t[7]=f-S,t[2]=c-m,t[5]=f+S,t[8]=1-s-h,t},e.normalFromMat4=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=a[4],i=a[5],u=a[6],s=a[7],M=a[8],h=a[9],c=a[10],f=a[11],x=a[12],S=a[13],m=a[14],I=a[15],d=r*i-n*l,D=r*u-e*l,F=r*s-o*l,v=n*u-e*i,b=n*s-o*i,g=e*s-o*u,p=M*S-h*x,w=M*m-c*x,P=M*I-f*x,E=h*m-c*S,A=h*I-f*S,z=c*I-f*m,L=d*z-D*A+F*E+v*P-b*w+g*p;return L?(L=1/L,t[0]=(i*z-u*A+s*E)*L,t[1]=(u*P-l*z-s*w)*L,t[2]=(l*A-i*P+s*p)*L,t[3]=(e*A-n*z-o*E)*L,t[4]=(r*z-e*P+o*w)*L,t[5]=(n*P-r*A-o*p)*L,t[6]=(S*g-m*b+I*v)*L,t[7]=(m*F-x*g-I*D)*L,t[8]=(x*b-S*F+I*d)*L,t):null},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t},e.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t},e.sub=e.subtract,e.multiplyScalar=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t},e.multiplyScalarAndAdd=function(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t[6]=a[6]+r[6]*n,t[7]=a[7]+r[7]*n,t[8]=a[8]+r[8]*n,t},e.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]},e.equals=function(t,a){var r=t[0],e=t[1],o=t[2],l=t[3],i=t[4],u=t[5],s=t[6],M=t[7],h=t[8],c=a[0],f=a[1],x=a[2],S=a[3],m=a[4],I=a[5],d=t[6],D=a[7],F=a[8];return Math.abs(r-c)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(e-f)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(o-x)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(l-S)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(i-m)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(u-I)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(s-d)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(M-D)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(D))&&Math.abs(h-F)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(F))},a.exports=e},{"./common.js":7}],11:[function(t,a,r){var n=t("./common.js"),e={scalar:{},SIMD:{}};e.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){var a=new n.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},e.fromValues=function(t,a,r,e,o,l,i,u,s,M,h,c,f,x,S,m){var I=new n.ARRAY_TYPE(16);return I[0]=t,I[1]=a,I[2]=r,I[3]=e,I[4]=o,I[5]=l,I[6]=i,I[7]=u,I[8]=s,I[9]=M,I[10]=h,I[11]=c,I[12]=f,I[13]=x,I[14]=S,I[15]=m,I},e.set=function(t,a,r,n,e,o,l,i,u,s,M,h,c,f,x,S,m){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=l,t[6]=i,t[7]=u,t[8]=s,t[9]=M,t[10]=h,t[11]=c,t[12]=f,t[13]=x,t[14]=S,t[15]=m,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.scalar.transpose=function(t,a){if(t===a){var r=a[1],n=a[2],e=a[3],o=a[6],l=a[7],i=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=r,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=o,t[11]=a[14],t[12]=e,t[13]=l,t[14]=i}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},e.SIMD.transpose=function(t,a){var r,n,e,o,l,i,u,s,M,h;return r=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4),e=SIMD.Float32x4.load(a,8),o=SIMD.Float32x4.load(a,12),l=SIMD.Float32x4.shuffle(r,n,0,1,4,5),i=SIMD.Float32x4.shuffle(e,o,0,1,4,5),u=SIMD.Float32x4.shuffle(l,i,0,2,4,6),s=SIMD.Float32x4.shuffle(l,i,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,s),l=SIMD.Float32x4.shuffle(r,n,2,3,6,7),i=SIMD.Float32x4.shuffle(e,o,2,3,6,7),M=SIMD.Float32x4.shuffle(l,i,0,2,4,6),h=SIMD.Float32x4.shuffle(l,i,1,3,5,7),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,h),t},e.transpose=n.USE_SIMD?e.SIMD.transpose:e.scalar.transpose,e.scalar.invert=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=a[4],i=a[5],u=a[6],s=a[7],M=a[8],h=a[9],c=a[10],f=a[11],x=a[12],S=a[13],m=a[14],I=a[15],d=r*i-n*l,D=r*u-e*l,F=r*s-o*l,v=n*u-e*i,b=n*s-o*i,g=e*s-o*u,p=M*S-h*x,w=M*m-c*x,P=M*I-f*x,E=h*m-c*S,A=h*I-f*S,z=c*I-f*m,L=d*z-D*A+F*E+v*P-b*w+g*p;return L?(L=1/L,t[0]=(i*z-u*A+s*E)*L,t[1]=(e*A-n*z-o*E)*L,t[2]=(S*g-m*b+I*v)*L,t[3]=(c*b-h*g-f*v)*L,t[4]=(u*P-l*z-s*w)*L,t[5]=(r*z-e*P+o*w)*L,t[6]=(m*F-x*g-I*D)*L,t[7]=(M*g-c*F+f*D)*L,t[8]=(l*A-i*P+s*p)*L,t[9]=(n*P-r*A-o*p)*L,t[10]=(x*b-S*F+I*d)*L,t[11]=(h*F-M*b-f*d)*L,t[12]=(i*w-l*E-u*p)*L,t[13]=(r*E-n*w+e*p)*L,t[14]=(S*D-x*v-m*d)*L,t[15]=(M*v-h*D+c*d)*L,t):null},e.SIMD.invert=function(t,a){var r,n,e,o,l,i,u,s,M,h,c=SIMD.Float32x4.load(a,0),f=SIMD.Float32x4.load(a,4),x=SIMD.Float32x4.load(a,8),S=SIMD.Float32x4.load(a,12);return l=SIMD.Float32x4.shuffle(c,f,0,1,4,5),n=SIMD.Float32x4.shuffle(x,S,0,1,4,5),r=SIMD.Float32x4.shuffle(l,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,l,1,3,5,7),l=SIMD.Float32x4.shuffle(c,f,2,3,6,7),o=SIMD.Float32x4.shuffle(x,S,2,3,6,7),e=SIMD.Float32x4.shuffle(l,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,l,1,3,5,7),l=SIMD.Float32x4.mul(e,o),l=SIMD.Float32x4.swizzle(l,1,0,3,2),i=SIMD.Float32x4.mul(n,l),u=SIMD.Float32x4.mul(r,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,l),i),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,l),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.mul(n,e),l=SIMD.Float32x4.swizzle(l,1,0,3,2),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,l),i),M=SIMD.Float32x4.mul(r,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(o,l)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,l),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),l=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),o),l=SIMD.Float32x4.swizzle(l,1,0,3,2),e=SIMD.Float32x4.swizzle(e,2,3,0,1),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,l),i),s=SIMD.Float32x4.mul(r,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(e,l)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,l),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),l=SIMD.Float32x4.mul(r,n),l=SIMD.Float32x4.swizzle(l,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,l),s),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,l),M),l=SIMD.Float32x4.swizzle(l,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,l),s),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(e,l)),l=SIMD.Float32x4.mul(r,o),l=SIMD.Float32x4.swizzle(l,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(e,l)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,l),s),l=SIMD.Float32x4.swizzle(l,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,l),u),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(n,l)),l=SIMD.Float32x4.mul(r,e),l=SIMD.Float32x4.swizzle(l,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,l),u),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(n,l)),l=SIMD.Float32x4.swizzle(l,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,l)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,l),M),h=SIMD.Float32x4.mul(r,i),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,2,3,0,1),h),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,1,0,3,2),h),l=SIMD.Float32x4.reciprocalApproximation(h),h=SIMD.Float32x4.sub(SIMD.Float32x4.add(l,l),SIMD.Float32x4.mul(h,SIMD.Float32x4.mul(l,l))),(h=SIMD.Float32x4.swizzle(h,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(h,i)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(h,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(h,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(h,M)),t):null},e.invert=n.USE_SIMD?e.SIMD.invert:e.scalar.invert,e.scalar.adjoint=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=a[4],i=a[5],u=a[6],s=a[7],M=a[8],h=a[9],c=a[10],f=a[11],x=a[12],S=a[13],m=a[14],I=a[15];return t[0]=i*(c*I-f*m)-h*(u*I-s*m)+S*(u*f-s*c),t[1]=-(n*(c*I-f*m)-h*(e*I-o*m)+S*(e*f-o*c)),t[2]=n*(u*I-s*m)-i*(e*I-o*m)+S*(e*s-o*u),t[3]=-(n*(u*f-s*c)-i*(e*f-o*c)+h*(e*s-o*u)),t[4]=-(l*(c*I-f*m)-M*(u*I-s*m)+x*(u*f-s*c)),t[5]=r*(c*I-f*m)-M*(e*I-o*m)+x*(e*f-o*c),t[6]=-(r*(u*I-s*m)-l*(e*I-o*m)+x*(e*s-o*u)),t[7]=r*(u*f-s*c)-l*(e*f-o*c)+M*(e*s-o*u),t[8]=l*(h*I-f*S)-M*(i*I-s*S)+x*(i*f-s*h),t[9]=-(r*(h*I-f*S)-M*(n*I-o*S)+x*(n*f-o*h)),t[10]=r*(i*I-s*S)-l*(n*I-o*S)+x*(n*s-o*i),t[11]=-(r*(i*f-s*h)-l*(n*f-o*h)+M*(n*s-o*i)),t[12]=-(l*(h*m-c*S)-M*(i*m-u*S)+x*(i*c-u*h)),t[13]=r*(h*m-c*S)-M*(n*m-e*S)+x*(n*c-e*h),t[14]=-(r*(i*m-u*S)-l*(n*m-e*S)+x*(n*u-e*i)),t[15]=r*(i*c-u*h)-l*(n*c-e*h)+M*(n*u-e*i),t},e.SIMD.adjoint=function(t,a){var r,n,e,o,l,i,u,s,M,h,c,f,x,r=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4),e=SIMD.Float32x4.load(a,8),o=SIMD.Float32x4.load(a,12);return M=SIMD.Float32x4.shuffle(r,n,0,1,4,5),i=SIMD.Float32x4.shuffle(e,o,0,1,4,5),l=SIMD.Float32x4.shuffle(M,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,M,1,3,5,7),M=SIMD.Float32x4.shuffle(r,n,2,3,6,7),s=SIMD.Float32x4.shuffle(e,o,2,3,6,7),u=SIMD.Float32x4.shuffle(M,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,M,1,3,5,7),M=SIMD.Float32x4.mul(u,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),h=SIMD.Float32x4.mul(i,M),c=SIMD.Float32x4.mul(l,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,M),h),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,M),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.mul(i,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),h),x=SIMD.Float32x4.mul(l,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,M)),x=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,M),x),x=SIMD.Float32x4.swizzle(x,2,3,0,1),M=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,3,0,1),s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),h),f=SIMD.Float32x4.mul(l,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,M)),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,M),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),M=SIMD.Float32x4.mul(l,i),M=SIMD.Float32x4.swizzle(M,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),f),x=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,M),x),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,M),f),x=SIMD.Float32x4.sub(x,SIMD.Float32x4.mul(u,M)),M=SIMD.Float32x4.mul(l,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(u,M)),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,M),f),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),c),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(i,M)),M=SIMD.Float32x4.mul(l,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),c),x=SIMD.Float32x4.sub(x,SIMD.Float32x4.mul(i,M)),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(s,M)),x=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,M),x),SIMD.Float32x4.store(t,0,h),SIMD.Float32x4.store(t,4,c),SIMD.Float32x4.store(t,8,f),SIMD.Float32x4.store(t,12,x),t},e.adjoint=n.USE_SIMD?e.SIMD.adjoint:e.scalar.adjoint,e.determinant=function(t){var a=t[0],r=t[1],n=t[2],e=t[3],o=t[4],l=t[5],i=t[6],u=t[7],s=t[8],M=t[9],h=t[10],c=t[11],f=t[12],x=t[13],S=t[14],m=t[15],I=a*l-r*o,d=a*i-n*o,D=a*u-e*o,F=r*i-n*l,v=r*u-e*l,b=n*u-e*i,g=s*x-M*f,p=s*S-h*f,w=s*m-c*f,P=M*S-h*x,E=M*m-c*x,A=h*m-c*S;return I*A-d*E+D*P+F*w-v*p+b*g},e.SIMD.multiply=function(t,a,r){var n=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),l=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4.load(r,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,1,1,1,1),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,3,3,3,3),l))));SIMD.Float32x4.store(t,0,u);var s=SIMD.Float32x4.load(r,4),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),l))));SIMD.Float32x4.store(t,4,M);var h=SIMD.Float32x4.load(r,8),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),l))));SIMD.Float32x4.store(t,8,c);var f=SIMD.Float32x4.load(r,12),x=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),l))));return SIMD.Float32x4.store(t,12,x),t},e.scalar.multiply=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=a[6],M=a[7],h=a[8],c=a[9],f=a[10],x=a[11],S=a[12],m=a[13],I=a[14],d=a[15],D=r[0],F=r[1],v=r[2],b=r[3];return t[0]=D*n+F*i+v*h+b*S,t[1]=D*e+F*u+v*c+b*m,t[2]=D*o+F*s+v*f+b*I,t[3]=D*l+F*M+v*x+b*d,D=r[4],F=r[5],v=r[6],b=r[7],t[4]=D*n+F*i+v*h+b*S,t[5]=D*e+F*u+v*c+b*m,t[6]=D*o+F*s+v*f+b*I,t[7]=D*l+F*M+v*x+b*d,D=r[8],F=r[9],
v=r[10],b=r[11],t[8]=D*n+F*i+v*h+b*S,t[9]=D*e+F*u+v*c+b*m,t[10]=D*o+F*s+v*f+b*I,t[11]=D*l+F*M+v*x+b*d,D=r[12],F=r[13],v=r[14],b=r[15],t[12]=D*n+F*i+v*h+b*S,t[13]=D*e+F*u+v*c+b*m,t[14]=D*o+F*s+v*f+b*I,t[15]=D*l+F*M+v*x+b*d,t},e.multiply=n.USE_SIMD?e.SIMD.multiply:e.scalar.multiply,e.mul=e.multiply,e.scalar.translate=function(t,a,r){var n,e,o,l,i,u,s,M,h,c,f,x,S=r[0],m=r[1],I=r[2];return a===t?(t[12]=a[0]*S+a[4]*m+a[8]*I+a[12],t[13]=a[1]*S+a[5]*m+a[9]*I+a[13],t[14]=a[2]*S+a[6]*m+a[10]*I+a[14],t[15]=a[3]*S+a[7]*m+a[11]*I+a[15]):(n=a[0],e=a[1],o=a[2],l=a[3],i=a[4],u=a[5],s=a[6],M=a[7],h=a[8],c=a[9],f=a[10],x=a[11],t[0]=n,t[1]=e,t[2]=o,t[3]=l,t[4]=i,t[5]=u,t[6]=s,t[7]=M,t[8]=h,t[9]=c,t[10]=f,t[11]=x,t[12]=n*S+i*m+h*I+a[12],t[13]=e*S+u*m+c*I+a[13],t[14]=o*S+s*m+f*I+a[14],t[15]=l*S+M*m+x*I+a[15]),t},e.SIMD.translate=function(t,a,r){var n=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),l=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4(r[0],r[1],r[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(i,0,0,0,0)),e=SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(i,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2));var u=SIMD.Float32x4.add(n,SIMD.Float32x4.add(e,SIMD.Float32x4.add(o,l)));return SIMD.Float32x4.store(t,12,u),t},e.translate=n.USE_SIMD?e.SIMD.translate:e.scalar.translate,e.scalar.scale=function(t,a,r){var n=r[0],e=r[1],o=r[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},e.SIMD.scale=function(t,a,r){var n,e,o,l=SIMD.Float32x4(r[0],r[1],r[2],0);return n=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(l,0,0,0,0))),e=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(l,1,1,1,1))),o=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(l,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},e.scale=n.USE_SIMD?e.SIMD.scale:e.scalar.scale,e.rotate=function(t,a,r,e){var o,l,i,u,s,M,h,c,f,x,S,m,I,d,D,F,v,b,g,p,w,P,E,A,z=e[0],L=e[1],R=e[2],y=Math.sqrt(z*z+L*L+R*R);return Math.abs(y)<n.EPSILON?null:(y=1/y,z*=y,L*=y,R*=y,o=Math.sin(r),l=Math.cos(r),i=1-l,u=a[0],s=a[1],M=a[2],h=a[3],c=a[4],f=a[5],x=a[6],S=a[7],m=a[8],I=a[9],d=a[10],D=a[11],F=z*z*i+l,v=L*z*i+R*o,b=R*z*i-L*o,g=z*L*i-R*o,p=L*L*i+l,w=R*L*i+z*o,P=z*R*i+L*o,E=L*R*i-z*o,A=R*R*i+l,t[0]=u*F+c*v+m*b,t[1]=s*F+f*v+I*b,t[2]=M*F+x*v+d*b,t[3]=h*F+S*v+D*b,t[4]=u*g+c*p+m*w,t[5]=s*g+f*p+I*w,t[6]=M*g+x*p+d*w,t[7]=h*g+S*p+D*w,t[8]=u*P+c*E+m*A,t[9]=s*P+f*E+I*A,t[10]=M*P+x*E+d*A,t[11]=h*P+S*E+D*A,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},e.scalar.rotateX=function(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[4],l=a[5],i=a[6],u=a[7],s=a[8],M=a[9],h=a[10],c=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*e+s*n,t[5]=l*e+M*n,t[6]=i*e+h*n,t[7]=u*e+c*n,t[8]=s*e-o*n,t[9]=M*e-l*n,t[10]=h*e-i*n,t[11]=c*e-u*n,t},e.SIMD.rotateX=function(t,a,r){var n=SIMD.Float32x4.splat(Math.sin(r)),e=SIMD.Float32x4.splat(Math.cos(r));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,4),l=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,e),SIMD.Float32x4.mul(l,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,e),SIMD.Float32x4.mul(o,n))),t},e.rotateX=n.USE_SIMD?e.SIMD.rotateX:e.scalar.rotateX,e.scalar.rotateY=function(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],l=a[1],i=a[2],u=a[3],s=a[8],M=a[9],h=a[10],c=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e-s*n,t[1]=l*e-M*n,t[2]=i*e-h*n,t[3]=u*e-c*n,t[8]=o*n+s*e,t[9]=l*n+M*e,t[10]=i*n+h*e,t[11]=u*n+c*e,t},e.SIMD.rotateY=function(t,a,r){var n=SIMD.Float32x4.splat(Math.sin(r)),e=SIMD.Float32x4.splat(Math.cos(r));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,e),SIMD.Float32x4.mul(l,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(l,e))),t},e.rotateY=n.USE_SIMD?e.SIMD.rotateY:e.scalar.rotateY,e.scalar.rotateZ=function(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],l=a[1],i=a[2],u=a[3],s=a[4],M=a[5],h=a[6],c=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e+s*n,t[1]=l*e+M*n,t[2]=i*e+h*n,t[3]=u*e+c*n,t[4]=s*e-o*n,t[5]=M*e-l*n,t[6]=h*e-i*n,t[7]=c*e-u*n,t},e.SIMD.rotateZ=function(t,a,r){var n=SIMD.Float32x4.splat(Math.sin(r)),e=SIMD.Float32x4.splat(Math.cos(r));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var o=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,e),SIMD.Float32x4.mul(l,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,e),SIMD.Float32x4.mul(o,n))),t},e.rotateZ=n.USE_SIMD?e.SIMD.rotateZ:e.scalar.rotateZ,e.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},e.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,a,r){var e,o,l,i=r[0],u=r[1],s=r[2],M=Math.sqrt(i*i+u*u+s*s);return Math.abs(M)<n.EPSILON?null:(M=1/M,i*=M,u*=M,s*=M,e=Math.sin(a),o=Math.cos(a),l=1-o,t[0]=i*i*l+o,t[1]=u*i*l+s*e,t[2]=s*i*l-u*e,t[3]=0,t[4]=i*u*l-s*e,t[5]=u*u*l+o,t[6]=s*u*l+i*e,t[7]=0,t[8]=i*s*l+u*e,t[9]=u*s*l-i*e,t[10]=s*s*l+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=n+n,u=e+e,s=o+o,M=n*i,h=n*u,c=n*s,f=e*u,x=e*s,S=o*s,m=l*i,I=l*u,d=l*s;return t[0]=1-(f+S),t[1]=h+d,t[2]=c-I,t[3]=0,t[4]=h-d,t[5]=1-(M+S),t[6]=x+m,t[7]=0,t[8]=c+I,t[9]=x-m,t[10]=1-(M+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},e.getRotation=function(t,a){var r=a[0]+a[5]+a[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(a[6]-a[9])/n,t[1]=(a[8]-a[2])/n,t[2]=(a[1]-a[4])/n):a[0]>a[5]&a[0]>a[10]?(n=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/n,t[0]=.25*n,t[1]=(a[1]+a[4])/n,t[2]=(a[8]+a[2])/n):a[5]>a[10]?(n=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/n,t[0]=(a[1]+a[4])/n,t[1]=.25*n,t[2]=(a[6]+a[9])/n):(n=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/n,t[0]=(a[8]+a[2])/n,t[1]=(a[6]+a[9])/n,t[2]=.25*n),t},e.fromRotationTranslationScale=function(t,a,r,n){var e=a[0],o=a[1],l=a[2],i=a[3],u=e+e,s=o+o,M=l+l,h=e*u,c=e*s,f=e*M,x=o*s,S=o*M,m=l*M,I=i*u,d=i*s,D=i*M,F=n[0],v=n[1],b=n[2];return t[0]=(1-(x+m))*F,t[1]=(c+D)*F,t[2]=(f-d)*F,t[3]=0,t[4]=(c-D)*v,t[5]=(1-(h+m))*v,t[6]=(S+I)*v,t[7]=0,t[8]=(f+d)*b,t[9]=(S-I)*b,t[10]=(1-(h+x))*b,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,a,r,n,e){var o=a[0],l=a[1],i=a[2],u=a[3],s=o+o,M=l+l,h=i+i,c=o*s,f=o*M,x=o*h,S=l*M,m=l*h,I=i*h,d=u*s,D=u*M,F=u*h,v=n[0],b=n[1],g=n[2],p=e[0],w=e[1],P=e[2];return t[0]=(1-(S+I))*v,t[1]=(f+F)*v,t[2]=(x-D)*v,t[3]=0,t[4]=(f-F)*b,t[5]=(1-(c+I))*b,t[6]=(m+d)*b,t[7]=0,t[8]=(x+D)*g,t[9]=(m-d)*g,t[10]=(1-(c+S))*g,t[11]=0,t[12]=r[0]+p-(t[0]*p+t[4]*w+t[8]*P),t[13]=r[1]+w-(t[1]*p+t[5]*w+t[9]*P),t[14]=r[2]+P-(t[2]*p+t[6]*w+t[10]*P),t[15]=1,t},e.fromQuat=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=r+r,i=n+n,u=e+e,s=r*l,M=n*l,h=n*i,c=e*l,f=e*i,x=e*u,S=o*l,m=o*i,I=o*u;return t[0]=1-h-x,t[1]=M+I,t[2]=c-m,t[3]=0,t[4]=M-I,t[5]=1-s-x,t[6]=f+S,t[7]=0,t[8]=c+m,t[9]=f-S,t[10]=1-s-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,a,r,n,e,o,l){var i=1/(r-a),u=1/(e-n),s=1/(o-l);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(r+a)*i,t[9]=(e+n)*u,t[10]=(l+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=l*o*2*s,t[15]=0,t},e.perspective=function(t,a,r,n,e){var o=1/Math.tan(a/2),l=1/(n-e);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*n*l,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,a,r,n){var e=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),l=Math.tan(a.leftDegrees*Math.PI/180),i=Math.tan(a.rightDegrees*Math.PI/180),u=2/(l+i),s=2/(e+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((l-i)*u*.5),t[9]=(e-o)*s*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},e.ortho=function(t,a,r,n,e,o,l){var i=1/(a-r),u=1/(n-e),s=1/(o-l);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+r)*i,t[13]=(e+n)*u,t[14]=(l+o)*s,t[15]=1,t},e.lookAt=function(t,a,r,o){var l,i,u,s,M,h,c,f,x,S,m=a[0],I=a[1],d=a[2],D=o[0],F=o[1],v=o[2],b=r[0],g=r[1],p=r[2];return Math.abs(m-b)<n.EPSILON&&Math.abs(I-g)<n.EPSILON&&Math.abs(d-p)<n.EPSILON?e.identity(t):(c=m-b,f=I-g,x=d-p,S=1/Math.sqrt(c*c+f*f+x*x),c*=S,f*=S,x*=S,l=F*x-v*f,i=v*c-D*x,u=D*f-F*c,S=Math.sqrt(l*l+i*i+u*u),S?(S=1/S,l*=S,i*=S,u*=S):(l=0,i=0,u=0),s=f*u-x*i,M=x*l-c*u,h=c*i-f*l,S=Math.sqrt(s*s+M*M+h*h),S?(S=1/S,s*=S,M*=S,h*=S):(s=0,M=0,h=0),t[0]=l,t[1]=s,t[2]=c,t[3]=0,t[4]=i,t[5]=M,t[6]=f,t[7]=0,t[8]=u,t[9]=h,t[10]=x,t[11]=0,t[12]=-(l*m+i*I+u*d),t[13]=-(s*m+M*I+h*d),t[14]=-(c*m+f*I+x*d),t[15]=1,t)},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t[9]=a[9]+r[9],t[10]=a[10]+r[10],t[11]=a[11]+r[11],t[12]=a[12]+r[12],t[13]=a[13]+r[13],t[14]=a[14]+r[14],t[15]=a[15]+r[15],t},e.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t[9]=a[9]-r[9],t[10]=a[10]-r[10],t[11]=a[11]-r[11],t[12]=a[12]-r[12],t[13]=a[13]-r[13],t[14]=a[14]-r[14],t[15]=a[15]-r[15],t},e.sub=e.subtract,e.multiplyScalar=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12]*r,t[13]=a[13]*r,t[14]=a[14]*r,t[15]=a[15]*r,t},e.multiplyScalarAndAdd=function(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t[6]=a[6]+r[6]*n,t[7]=a[7]+r[7]*n,t[8]=a[8]+r[8]*n,t[9]=a[9]+r[9]*n,t[10]=a[10]+r[10]*n,t[11]=a[11]+r[11]*n,t[12]=a[12]+r[12]*n,t[13]=a[13]+r[13]*n,t[14]=a[14]+r[14]*n,t[15]=a[15]+r[15]*n,t},e.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},e.equals=function(t,a){var r=t[0],e=t[1],o=t[2],l=t[3],i=t[4],u=t[5],s=t[6],M=t[7],h=t[8],c=t[9],f=t[10],x=t[11],S=t[12],m=t[13],I=t[14],d=t[15],D=a[0],F=a[1],v=a[2],b=a[3],g=a[4],p=a[5],w=a[6],P=a[7],E=a[8],A=a[9],z=a[10],L=a[11],R=a[12],y=a[13],_=a[14],T=a[15];return Math.abs(r-D)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(D))&&Math.abs(e-F)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(F))&&Math.abs(o-v)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(l-b)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(i-g)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(u-p)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-w)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(M-P)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(P))&&Math.abs(h-E)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(c-A)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(f-z)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(z))&&Math.abs(x-L)<=n.EPSILON*Math.max(1,Math.abs(x),Math.abs(L))&&Math.abs(S-R)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(R))&&Math.abs(m-y)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(y))&&Math.abs(I-_)<=n.EPSILON*Math.max(1,Math.abs(I),Math.abs(_))&&Math.abs(d-T)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(T))},a.exports=e},{"./common.js":7}],12:[function(t,a,r){var n=t("./common.js"),e=t("./mat3.js"),o=t("./vec3.js"),l=t("./vec4.js"),i={};i.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},i.rotationTo=function(){var t=o.create(),a=o.fromValues(1,0,0),r=o.fromValues(0,1,0);return function(n,e,l){var u=o.dot(e,l);return-.999999>u?(o.cross(t,a,e),o.length(t)<1e-6&&o.cross(t,r,e),o.normalize(t,t),i.setAxisAngle(n,t,Math.PI),n):u>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(o.cross(t,e,l),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+u,i.normalize(n,n))}}(),i.setAxes=function(){var t=e.create();return function(a,r,n,e){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=e[0],t[4]=e[1],t[7]=e[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],i.normalize(a,i.fromMat3(a,t))}}(),i.clone=l.clone,i.fromValues=l.fromValues,i.copy=l.copy,i.set=l.set,i.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},i.setAxisAngle=function(t,a,r){r=.5*r;var n=Math.sin(r);return t[0]=n*a[0],t[1]=n*a[1],t[2]=n*a[2],t[3]=Math.cos(r),t},i.getAxisAngle=function(t,a){var r=2*Math.acos(a[3]),n=Math.sin(r/2);return 0!=n?(t[0]=a[0]/n,t[1]=a[1]/n,t[2]=a[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},i.add=l.add,i.multiply=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3],i=r[0],u=r[1],s=r[2],M=r[3];return t[0]=n*M+l*i+e*s-o*u,t[1]=e*M+l*u+o*i-n*s,t[2]=o*M+l*s+n*u-e*i,t[3]=l*M-n*i-e*u-o*s,t},i.mul=i.multiply,i.scale=l.scale,i.rotateX=function(t,a,r){r*=.5;var n=a[0],e=a[1],o=a[2],l=a[3],i=Math.sin(r),u=Math.cos(r);return t[0]=n*u+l*i,t[1]=e*u+o*i,t[2]=o*u-e*i,t[3]=l*u-n*i,t},i.rotateY=function(t,a,r){r*=.5;var n=a[0],e=a[1],o=a[2],l=a[3],i=Math.sin(r),u=Math.cos(r);return t[0]=n*u-o*i,t[1]=e*u+l*i,t[2]=o*u+n*i,t[3]=l*u-e*i,t},i.rotateZ=function(t,a,r){r*=.5;var n=a[0],e=a[1],o=a[2],l=a[3],i=Math.sin(r),u=Math.cos(r);return t[0]=n*u+e*i,t[1]=e*u-n*i,t[2]=o*u+l*i,t[3]=l*u-o*i,t},i.calculateW=function(t,a){var r=a[0],n=a[1],e=a[2];return t[0]=r,t[1]=n,t[2]=e,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-e*e)),t},i.dot=l.dot,i.lerp=l.lerp,i.slerp=function(t,a,r,n){var e,o,l,i,u,s=a[0],M=a[1],h=a[2],c=a[3],f=r[0],x=r[1],S=r[2],m=r[3];return o=s*f+M*x+h*S+c*m,0>o&&(o=-o,f=-f,x=-x,S=-S,m=-m),1-o>1e-6?(e=Math.acos(o),l=Math.sin(e),i=Math.sin((1-n)*e)/l,u=Math.sin(n*e)/l):(i=1-n,u=n),t[0]=i*s+u*f,t[1]=i*M+u*x,t[2]=i*h+u*S,t[3]=i*c+u*m,t},i.sqlerp=function(){var t=i.create(),a=i.create();return function(r,n,e,o,l,u){return i.slerp(t,n,l,u),i.slerp(a,e,o,u),i.slerp(r,t,a,2*u*(1-u)),r}}(),i.invert=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=r*r+n*n+e*e+o*o,i=l?1/l:0;return t[0]=-r*i,t[1]=-n*i,t[2]=-e*i,t[3]=o*i,t},i.conjugate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=a[3],t},i.length=l.length,i.len=i.length,i.squaredLength=l.squaredLength,i.sqrLen=i.squaredLength,i.normalize=l.normalize,i.fromMat3=function(t,a){var r,n=a[0]+a[4]+a[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(a[5]-a[7])*r,t[1]=(a[6]-a[2])*r,t[2]=(a[1]-a[3])*r;else{var e=0;a[4]>a[0]&&(e=1),a[8]>a[3*e+e]&&(e=2);var o=(e+1)%3,l=(e+2)%3;r=Math.sqrt(a[3*e+e]-a[3*o+o]-a[3*l+l]+1),t[e]=.5*r,r=.5/r,t[3]=(a[3*o+l]-a[3*l+o])*r,t[o]=(a[3*o+e]+a[3*e+o])*r,t[l]=(a[3*l+e]+a[3*e+l])*r}return t},i.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=l.exactEquals,i.equals=l.equals,a.exports=i},{"./common.js":7,"./mat3.js":10,"./vec3.js":14,"./vec4.js":15}],13:[function(t,a,r){var n=t("./common.js"),e={};e.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},e.clone=function(t){var a=new n.ARRAY_TYPE(2);return a[0]=t[0],a[1]=t[1],a},e.fromValues=function(t,a){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=a,r},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t},e.set=function(t,a,r){return t[0]=a,t[1]=r,t},e.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t},e.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t},e.sub=e.subtract,e.multiply=function(t,a,r){return t[0]=a[0]*r[0],t[1]=a[1]*r[1],t},e.mul=e.multiply,e.divide=function(t,a,r){return t[0]=a[0]/r[0],t[1]=a[1]/r[1],t},e.div=e.divide,e.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t},e.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t},e.min=function(t,a,r){return t[0]=Math.min(a[0],r[0]),t[1]=Math.min(a[1],r[1]),t},e.max=function(t,a,r){return t[0]=Math.max(a[0],r[0]),t[1]=Math.max(a[1],r[1]),t},e.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t},e.scale=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t},e.scaleAndAdd=function(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t},e.distance=function(t,a){var r=a[0]-t[0],n=a[1]-t[1];return Math.sqrt(r*r+n*n)},e.dist=e.distance,e.squaredDistance=function(t,a){var r=a[0]-t[0],n=a[1]-t[1];return r*r+n*n},e.sqrDist=e.squaredDistance,e.length=function(t){var a=t[0],r=t[1];return Math.sqrt(a*a+r*r)},e.len=e.length,e.squaredLength=function(t){var a=t[0],r=t[1];return a*a+r*r},e.sqrLen=e.squaredLength,e.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t},e.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t},e.normalize=function(t,a){var r=a[0],n=a[1],e=r*r+n*n;return e>0&&(e=1/Math.sqrt(e),t[0]=a[0]*e,t[1]=a[1]*e),t},e.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]},e.cross=function(t,a,r){var n=a[0]*r[1]-a[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,a,r,n){var e=a[0],o=a[1];return t[0]=e+n*(r[0]-e),t[1]=o+n*(r[1]-o),t},e.random=function(t,a){a=a||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t},e.transformMat2=function(t,a,r){var n=a[0],e=a[1];return t[0]=r[0]*n+r[2]*e,t[1]=r[1]*n+r[3]*e,t},e.transformMat2d=function(t,a,r){var n=a[0],e=a[1];return t[0]=r[0]*n+r[2]*e+r[4],t[1]=r[1]*n+r[3]*e+r[5],t},e.transformMat3=function(t,a,r){var n=a[0],e=a[1];return t[0]=r[0]*n+r[3]*e+r[6],t[1]=r[1]*n+r[4]*e+r[7],t},e.transformMat4=function(t,a,r){var n=a[0],e=a[1];return t[0]=r[0]*n+r[4]*e+r[12],t[1]=r[1]*n+r[5]*e+r[13],t},e.forEach=function(){var t=e.create();return function(a,r,n,e,o,l){var i,u;for(r||(r=2),n||(n=0),u=e?Math.min(e*r+n,a.length):a.length,i=n;u>i;i+=r)t[0]=a[i],t[1]=a[i+1],o(t,t,l),a[i]=t[0],a[i+1]=t[1];return a}}(),e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]},e.equals=function(t,a){var r=t[0],e=t[1],o=a[0],l=a[1];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(e-l)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))},a.exports=e},{"./common.js":7}],14:[function(t,a,r){var n=t("./common.js"),e={};e.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},e.clone=function(t){var a=new n.ARRAY_TYPE(3);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a},e.fromValues=function(t,a,r){var e=new n.ARRAY_TYPE(3);return e[0]=t,e[1]=a,e[2]=r,e},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},e.set=function(t,a,r,n){return t[0]=a,t[1]=r,t[2]=n,t},e.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},e.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t},e.sub=e.subtract,e.multiply=function(t,a,r){return t[0]=a[0]*r[0],t[1]=a[1]*r[1],t[2]=a[2]*r[2],t},e.mul=e.multiply,e.divide=function(t,a,r){return t[0]=a[0]/r[0],t[1]=a[1]/r[1],t[2]=a[2]/r[2],t},e.div=e.divide,e.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t},e.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t},e.min=function(t,a,r){return t[0]=Math.min(a[0],r[0]),t[1]=Math.min(a[1],r[1]),t[2]=Math.min(a[2],r[2]),t},e.max=function(t,a,r){return t[0]=Math.max(a[0],r[0]),t[1]=Math.max(a[1],r[1]),t[2]=Math.max(a[2],r[2]),t},e.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t},e.scale=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t},e.scaleAndAdd=function(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t},e.distance=function(t,a){var r=a[0]-t[0],n=a[1]-t[1],e=a[2]-t[2];return Math.sqrt(r*r+n*n+e*e)},e.dist=e.distance,e.squaredDistance=function(t,a){var r=a[0]-t[0],n=a[1]-t[1],e=a[2]-t[2];return r*r+n*n+e*e},e.sqrDist=e.squaredDistance,e.length=function(t){var a=t[0],r=t[1],n=t[2];return Math.sqrt(a*a+r*r+n*n)},e.len=e.length,e.squaredLength=function(t){var a=t[0],r=t[1],n=t[2];return a*a+r*r+n*n},e.sqrLen=e.squaredLength,e.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t},e.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t},e.normalize=function(t,a){var r=a[0],n=a[1],e=a[2],o=r*r+n*n+e*e;return o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o),t},e.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]},e.cross=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=r[0],i=r[1],u=r[2];return t[0]=e*u-o*i,t[1]=o*l-n*u,t[2]=n*i-e*l,t},e.lerp=function(t,a,r,n){var e=a[0],o=a[1],l=a[2];return t[0]=e+n*(r[0]-e),t[1]=o+n*(r[1]-o),t[2]=l+n*(r[2]-l),t},e.hermite=function(t,a,r,n,e,o){var l=o*o,i=l*(2*o-3)+1,u=l*(o-2)+o,s=l*(o-1),M=l*(3-2*o);return t[0]=a[0]*i+r[0]*u+n[0]*s+e[0]*M,t[1]=a[1]*i+r[1]*u+n[1]*s+e[1]*M,t[2]=a[2]*i+r[2]*u+n[2]*s+e[2]*M,t},e.bezier=function(t,a,r,n,e,o){var l=1-o,i=l*l,u=o*o,s=i*l,M=3*o*i,h=3*u*l,c=u*o;return t[0]=a[0]*s+r[0]*M+n[0]*h+e[0]*c,t[1]=a[1]*s+r[1]*M+n[1]*h+e[1]*c,t[2]=a[2]*s+r[2]*M+n[2]*h+e[2]*c,t},e.random=function(t,a){a=a||1;var r=2*n.RANDOM()*Math.PI,e=2*n.RANDOM()-1,o=Math.sqrt(1-e*e)*a;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=e*a,t},e.transformMat4=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=r[3]*n+r[7]*e+r[11]*o+r[15];return l=l||1,t[0]=(r[0]*n+r[4]*e+r[8]*o+r[12])/l,t[1]=(r[1]*n+r[5]*e+r[9]*o+r[13])/l,t[2]=(r[2]*n+r[6]*e+r[10]*o+r[14])/l,t},e.transformMat3=function(t,a,r){var n=a[0],e=a[1],o=a[2];return t[0]=n*r[0]+e*r[3]+o*r[6],t[1]=n*r[1]+e*r[4]+o*r[7],t[2]=n*r[2]+e*r[5]+o*r[8],t},e.transformQuat=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=r[0],i=r[1],u=r[2],s=r[3],M=s*n+i*o-u*e,h=s*e+u*n-l*o,c=s*o+l*e-i*n,f=-l*n-i*e-u*o;return t[0]=M*s+f*-l+h*-u-c*-i,t[1]=h*s+f*-i+c*-l-M*-u,t[2]=c*s+f*-u+M*-i-h*-l,t},e.rotateX=function(t,a,r,n){var e=[],o=[];return e[0]=a[0]-r[0],e[1]=a[1]-r[1],e[2]=a[2]-r[2],o[0]=e[0],o[1]=e[1]*Math.cos(n)-e[2]*Math.sin(n),o[2]=e[1]*Math.sin(n)+e[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.rotateY=function(t,a,r,n){var e=[],o=[];return e[0]=a[0]-r[0],e[1]=a[1]-r[1],e[2]=a[2]-r[2],o[0]=e[2]*Math.sin(n)+e[0]*Math.cos(n),o[1]=e[1],o[2]=e[2]*Math.cos(n)-e[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.rotateZ=function(t,a,r,n){var e=[],o=[];return e[0]=a[0]-r[0],e[1]=a[1]-r[1],e[2]=a[2]-r[2],o[0]=e[0]*Math.cos(n)-e[1]*Math.sin(n),o[1]=e[0]*Math.sin(n)+e[1]*Math.cos(n),o[2]=e[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.forEach=function(){var t=e.create();return function(a,r,n,e,o,l){var i,u;for(r||(r=3),n||(n=0),u=e?Math.min(e*r+n,a.length):a.length,i=n;u>i;i+=r)t[0]=a[i],t[1]=a[i+1],t[2]=a[i+2],o(t,t,l),a[i]=t[0],a[i+1]=t[1],a[i+2]=t[2];return a}}(),e.angle=function(t,a){var r=e.fromValues(t[0],t[1],t[2]),n=e.fromValues(a[0],a[1],a[2]);e.normalize(r,r),e.normalize(n,n);var o=e.dot(r,n);return o>1?0:Math.acos(o)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]},e.equals=function(t,a){var r=t[0],e=t[1],o=t[2],l=a[0],i=a[1],u=a[2];return Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(e-i)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},a.exports=e},{"./common.js":7}],15:[function(t,a,r){var n=t("./common.js"),e={};e.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},e.clone=function(t){var a=new n.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},e.fromValues=function(t,a,r,e){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=a,o[2]=r,o[3]=e,o},e.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},e.set=function(t,a,r,n,e){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t},e.add=function(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t},e.subtract=function(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t},e.sub=e.subtract,e.multiply=function(t,a,r){return t[0]=a[0]*r[0],t[1]=a[1]*r[1],t[2]=a[2]*r[2],t[3]=a[3]*r[3],t},e.mul=e.multiply,e.divide=function(t,a,r){return t[0]=a[0]/r[0],t[1]=a[1]/r[1],t[2]=a[2]/r[2],t[3]=a[3]/r[3],t},e.div=e.divide,e.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t[3]=Math.ceil(a[3]),t},e.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t[3]=Math.floor(a[3]),t},e.min=function(t,a,r){return t[0]=Math.min(a[0],r[0]),t[1]=Math.min(a[1],r[1]),t[2]=Math.min(a[2],r[2]),t[3]=Math.min(a[3],r[3]),t},e.max=function(t,a,r){return t[0]=Math.max(a[0],r[0]),t[1]=Math.max(a[1],r[1]),t[2]=Math.max(a[2],r[2]),t[3]=Math.max(a[3],r[3]),t},e.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t[3]=Math.round(a[3]),t},e.scale=function(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t},e.scaleAndAdd=function(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t},e.distance=function(t,a){var r=a[0]-t[0],n=a[1]-t[1],e=a[2]-t[2],o=a[3]-t[3];return Math.sqrt(r*r+n*n+e*e+o*o)},e.dist=e.distance,e.squaredDistance=function(t,a){var r=a[0]-t[0],n=a[1]-t[1],e=a[2]-t[2],o=a[3]-t[3];return r*r+n*n+e*e+o*o},e.sqrDist=e.squaredDistance,e.length=function(t){var a=t[0],r=t[1],n=t[2],e=t[3];return Math.sqrt(a*a+r*r+n*n+e*e)},e.len=e.length,e.squaredLength=function(t){var a=t[0],r=t[1],n=t[2],e=t[3];return a*a+r*r+n*n+e*e},e.sqrLen=e.squaredLength,e.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=-a[3],t},e.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t[3]=1/a[3],t},e.normalize=function(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],l=r*r+n*n+e*e+o*o;return l>0&&(l=1/Math.sqrt(l),t[0]=r*l,t[1]=n*l,t[2]=e*l,t[3]=o*l),t},e.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3]},e.lerp=function(t,a,r,n){var e=a[0],o=a[1],l=a[2],i=a[3];return t[0]=e+n*(r[0]-e),t[1]=o+n*(r[1]-o),t[2]=l+n*(r[2]-l),t[3]=i+n*(r[3]-i),t},e.random=function(t,a){return a=a||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),e.normalize(t,t),e.scale(t,t,a),t},e.transformMat4=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=a[3];return t[0]=r[0]*n+r[4]*e+r[8]*o+r[12]*l,t[1]=r[1]*n+r[5]*e+r[9]*o+r[13]*l,t[2]=r[2]*n+r[6]*e+r[10]*o+r[14]*l,t[3]=r[3]*n+r[7]*e+r[11]*o+r[15]*l,t},e.transformQuat=function(t,a,r){var n=a[0],e=a[1],o=a[2],l=r[0],i=r[1],u=r[2],s=r[3],M=s*n+i*o-u*e,h=s*e+u*n-l*o,c=s*o+l*e-i*n,f=-l*n-i*e-u*o;return t[0]=M*s+f*-l+h*-u-c*-i,t[1]=h*s+f*-i+c*-l-M*-u,t[2]=c*s+f*-u+M*-i-h*-l,t[3]=a[3],t},e.forEach=function(){var t=e.create();return function(a,r,n,e,o,l){var i,u;for(r||(r=4),n||(n=0),u=e?Math.min(e*r+n,a.length):a.length,i=n;u>i;i+=r)t[0]=a[i],t[1]=a[i+1],t[2]=a[i+2],t[3]=a[i+3],o(t,t,l),a[i]=t[0],a[i+1]=t[1],a[i+2]=t[2],a[i+3]=t[3];return a}}(),e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},e.equals=function(t,a){var r=t[0],e=t[1],o=t[2],l=t[3],i=a[0],u=a[1],s=a[2],M=a[3];return Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(e-u)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(l-M)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(M))},a.exports=e},{"./common.js":7}],16:[function(t,a,r){a.exports=function(t){var a="precision mediump float; \n \nvarying vec4 color; \n \nvoid main() { \n  gl_FragColor = color; \n} \n \n";t=t||{};for(var r in t){var n=new RegExp("{{"+r+"}}","g");a=a.replace(n,t[r])}return a}},{}],17:[function(t,a,r){a.exports=function(t){var a="uniform mat4 modelViewMatrix; \nuniform mat4 projectionMatrix; \n \nuniform float currentTime; \n \nattribute vec3 vertexPosition; \nattribute vec3 vertexVelocity; \nattribute vec4 vertexColor; \n \nvarying vec4 color; \n \nvoid main() { \n  color = vertexColor; \n  color.a = 1.0 - currentTime / 100.0; \n \n  vec3 currentPosition = vec3(vertexPosition + vertexVelocity * currentTime); \n \n  gl_Position = projectionMatrix * modelViewMatrix * vec4(currentPosition, 1.0); \n  gl_PointSize = 1.5; \n} \n \n";t=t||{};for(var r in t){var n=new RegExp("{{"+r+"}}","g");a=a.replace(n,t[r])}return a}},{}],18:[function(t,a,r){arguments[4][16][0].apply(r,arguments)},{dup:16}],19:[function(t,a,r){a.exports=function(t){var a="uniform mat4 modelViewMatrix; \nuniform mat4 projectionMatrix; \n \nattribute vec3 vertexPosition; \nattribute vec4 vertexColor; \n \nvarying vec4 color; \n \nvoid main() { \n  color = vertexColor; \n \n  gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0); \n} \n \n";t=t||{};for(var r in t){var n=new RegExp("{{"+r+"}}","g");a=a.replace(n,t[r])}return a}},{}]},{},[1]);